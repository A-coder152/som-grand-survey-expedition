<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="linuxdino">
    <title>Tickle tomb</title>
    <style>
        body {
            background-color: #61545d;
            background-image: url('./assets/background_scary.png');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }
        @keyframes fly {
            0% {transform: translate(0,0);}
            20% {transform: translate(0, -50vh);}
            80% {transform: translate(0, -50vh);}
            100% {transform: translate(0,0);}
        }
        .fly {
            animation: fly 4s ease-out 0s 1 forwards;
            background-image: url('./assets/bat_fly.png') !important;
        }   
        
    </style>
</head>
<body>
    <div id="bats-container" style="position: fixed; width: 100vw; height: 100vh;">
        <div id="bats" style="z-index: 10; position: absolute; top: 15vh; left: 20%; height: 15vh; width: 15vh; background-image: url('./assets/bat_sleep.png'); transform: rotate(185deg); background-repeat: no-repeat; background-size: contain; filter: brightness(0.5);"></div>
        <div id="bats" style="z-index: 10; position: absolute; top: 15vh; left: 40%; height: 15vh; width: 15vh; background-image: url('./assets/bat_sleep.png'); transform: rotate(172deg); background-repeat: no-repeat; background-size: contain; filter: brightness(0.5);"></div>
        <div id="bats" style="z-index: 10; position: absolute; top: 15vh; left: 60%; height: 15vh; width: 15vh; background-image: url('./assets/bat_sleep.png'); transform: rotate(192deg); background-repeat: no-repeat; background-size: contain; filter: brightness(0.5);"></div>
        <div id="bats" style="z-index: 10; position: absolute; top: 15vh; left: 80%; height: 15vh; width: 15vh; background-image: url('./assets/bat_sleep.png'); transform: rotate(160deg); background-repeat: no-repeat; background-size: contain; filter: brightness(0.5);"></div>
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; overflow-y: hidden;">
            <img style="z-index: 2; width: 100vw; height: auto; filter: brightness(0);" src="./assets/gates.png" />
        </div>
    </div>
    <div id="tomb-container" style="position: relative; display: flex; justify-content: center; align-items: center; top: 60vh;">
        <div style="position: relative; height: 75vh; width: 50vw; display: flex; justify-content: center; align-items: center;">
            <img id="tomb" style="z-index: 4; position: absolute; top: 0; height: 75vh; filter: brightness(0.4);" src="./assets/tomb.png"/>
            <div id="tomb-tickle-1" style="height: 100%; width: 50%; position: absolute; left: 0; z-index: 5;"></div>
            <div id="tomb-tickle-2" style="height: 100%; width: 50%; position: absolute; right: 0; z-index: 5;"></div>
        </div>
        <div style="overflow: hidden; width: 100vw; height: 75vh; position: absolute;"> 
            <img style="width: 102vw; height: auto; z-index: 3; position: absolute; bottom: 0; right: 0;" src="./assets/background.png" />
        </div>
    </div>
    <div style="background-color: black; height: 100vh; width: 100vw; z-index: 6; position: relative; top: 55vh; margin: none;">
        <h1 style="color: white; text-align: center; padding-top: 40vh;">You found the tomb!<br/>But it's empty...<br/>Maybe try tickling it?</h1>
    </div>
    <script>
        let tickleMeter = 0;
        const tickle1 = document.querySelector("#tomb-tickle-1");
        const tickle2 = document.querySelector("#tomb-tickle-2");
        const bats = document.querySelectorAll("#bats");
        bats.forEach(element => {
            element.addEventListener("mouseover", () => {
                element.classList.add("fly");
                setTimeout(() => {
                    element.classList.remove("fly");
                }, 4000);
            })
        });
        tickle1.addEventListener("mouseover", () => {
            tickleMeter++;
            if (tickleMeter == 25){
                new Audio("./assets/laugh.mp3").play();
            }
            if (tickleMeter == 50){
                new Audio("./assets/knock.mp3").play();
            }
            if (tickleMeter == 100){
                jumpScare();
                tickleMeter = 0;
            }
            console.log(tickleMeter);
        });
        tickle2.addEventListener("mouseover", () => {
            tickleMeter++;
            if (tickleMeter == 25){
                new Audio("./assets/laugh.mp3").play();
            }
            if (tickleMeter == 50){
                new Audio("./assets/knock.mp3").play();
            }
            if (tickleMeter == 100){
                jumpScare();
                tickleMeter = 0;
            }
        });
        function jumpScare(){
        }
    </script>
</body>
</html>